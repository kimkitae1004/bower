<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>circleProgressbar jQuery Plugin ex5</title>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>
$(document).ready(function () {
    var rotationMultiplier = 3.6;
    // For each div that its id ends with "circle", do the following.
    $( "div[id$='circle']" ).each(function() {
        // Save all of its classes in an array.
        var classList = $( this ).attr('class').split(/\s+/);
        // Iterate over the array
        for (var i = 0; i < classList.length; i++) {
           /* If there's about a percentage class, take the actual percentage and apply the
                css transformations in all occurences of the specified percentage class,
                even for the divs without an id ending with "circle" */
           if (classList[i].match("^p")) {
            var rotationPercentage = classList[i].substring(1, classList[i].length);
            var rotationDegrees = rotationMultiplier*rotationPercentage;
            $('.c100.p'+rotationPercentage+ ' .bar').css({
              '-webkit-transform' : 'rotate(' + rotationDegrees + 'deg)',
              '-moz-transform'    : 'rotate(' + rotationDegrees + 'deg)',
              '-ms-transform'     : 'rotate(' + rotationDegrees + 'deg)',
              '-o-transform'      : 'rotate(' + rotationDegrees + 'deg)',
              'transform'         : 'rotate(' + rotationDegrees + 'deg)'
            });
           }
        }
    });
});
</script>
<style type="text/css">
    body{
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
        font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
    }
    .page {
        margin: 150px auto;
        max-width: 960px;
    }
    h1{
        margin: 40px 0 60px 0;
    }
</style>
<link rel="stylesheet" href="circleProgressbar3.css">
</head>
<body>
<div class="page">
    <h1>jQuery circleProgressbar</h1>
    <!-- some colors -->
    <div class="clearfix">
        <div id="bluecircle" class="c100 p17 big">
            <span>17%</span>
            <div class="slice">
                <div class="bar"></div>
                <div class="fill"></div>
            </div>
        </div>
		<div id="orangecircle" class="c100 p60 orange">
            <span>60%</span>
            <div class="slice">
                <div class="bar"></div>
                <div class="fill"></div>
            </div>
        </div>
		<div id="pinkcircle" class="c100 p94 small green">
			<span>94%</span>
			<div class="slice">
				<div class="bar"></div>
				<div class="fill"></div>
			</div>
		</div>
    </div>
    <!-- /some colors -->

    <div class="dark-area clearfix">
		<!-- some colors -->
        <div class="clearfix">
            <div id="lightcircle" class="c100 p77 dark big">
                <span>77%</span>
                <div class="slice">
                    <div class="bar"></div>
                    <div class="fill"></div>
                </div>
            </div>
            <div id="dgreencircle" class="c100 p50 dark green">
                <span>50%</span>
                <div class="slice">
                    <div class="bar"></div>
                    <div class="fill"></div>
                </div>
            </div>
            <div id="sacircle" class="c100 p33 dark small pink">
                <span>33%</span>
                <div class="slice">
                    <div class="bar"></div>
                    <div class="fill"></div>
                </div>
            </div>
        </div>
        <!-- /some colors -->
		
	</div><!-- /.dark-area -->
</div>
</body>
</html>
